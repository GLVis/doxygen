<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GLVis: CONTRIBUTING</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GLVis
   &#160;<span id="projectnumber">v4.0</span>
   </div>
   <div id="projectbrief">Accurate and flexible finite element visualization</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">CONTRIBUTING </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p align="center"></p>
<p><a href="https://glvis.org/"><img src="https://glvis.org/img/logo-300.png" alt="glvis" class="inline"/></a> </p>
<p align="center"></p>
<p><a href="https://github.com/glvis/glvis/blob/master/LICENSE"><img src="https://img.shields.io/badge/License-BSD-brightgreen.svg" alt="License" style="pointer-events: none;" class="inline"/></a> <a href="https://glvis.github.io/doxygen/html/index.html"><img src="https://img.shields.io/badge/code-documented-brightgreen.svg" alt="Doxygen" style="pointer-events: none;" class="inline"/></a> </p>
<h1><a class="anchor" id="autotoc_md0"></a>
How to Contribute</h1>
<p>The GLVis team welcomes contributions at all levels: bugfixes; code improvements; simplifications; new visualization capabilities; improved documentation; etc.</p>
<p>GLVis is distributed under the terms of the BSD-3 license. All new contributions must be made under this license.</p>
<p>If you plan on contributing to GLVis, consider reviewing the <a href="https://github.com/glvis/glvis/issues">issue tracker</a> first to check if a thread already exists for your desired feature or the bug you ran into. Use a pull request (PR) toward the <code>glvis:master</code> branch to propose your contribution. If you are planning significant code changes or have questions, you may want to open an <a href="https://github.com/glvis/glvis/issues">issue</a> before issuing a PR. In addition to technical contributions, we are also interested in your results and <a href="https://glvis.org/gallery/">simulation images</a>, which you can share via a pull request in the <a href="https://github.com/glvis/web">glvis/web</a> repo.</p>
<p>See the <a href="#quick-summary">Quick Summary</a> section for the main highlights of our GitHub workflow. For more details, consult the following sections and refer back to them before issuing pull requests:</p>
<ul>
<li><a href="#quick-summary">Quick Summary</a></li>
<li><a href="#code-overview">Code Overview</a></li>
<li><a href="#github-workflow">GitHub Workflow</a><ul>
<li><a href="#glvis-organization">GLVis Organization</a></li>
<li><a href="#new-feature-development">New Feature Development</a></li>
<li><a href="#developer-guidelines">Developer Guidelines</a></li>
<li><a href="#pull-requests">Pull Requests</a></li>
<li><a href="#pull-request-checklist">Pull Request Checklist</a></li>
<li><a href="#releases">Releases</a></li>
<li><a href="#release-checklist">Release Checklist</a></li>
</ul>
</li>
<li><a href="#llnl-workflow">LLNL Workflow</a></li>
<li><a href="#automated-testing">Automated Testing</a></li>
<li><a href="#contact-information">Contact Information</a></li>
</ul>
<p>Contributing to GLVis requires knowledge of Git and, likely, OpenGL and/or finite elements. If you are new to Git, see the <a href="https://help.github.com/articles/git-and-github-learning-resources/">GitHub learning resources</a>. To learn more about the finite element method, see this <a href="https://mfem.org/fem">MFEM page</a>.</p>
<p><em>By submitting a pull request, you are affirming the <a href="#developers-certificate-of-origin-11">Developer's Certificate of Origin</a> at the end of this file.</em></p>
<h2><a class="anchor" id="autotoc_md1"></a>
Quick Summary</h2>
<ul>
<li>We encourage you to <a href="#glvis-organization">join the GLVis organization</a> and create development branches off <code>glvis:master</code>.</li>
<li>Please follow the <a href="#developer-guidelines">developer guidelines</a>, in particular with regards to documentation and code styling.</li>
<li>Pull requests should be issued toward <code>glvis:master</code>. Make sure to check the items off the <a href="#pull-request-checklist">Pull Request Checklist</a>.</li>
<li>When your contribution is fully working and ready to be reviewed, add the <code>ready-for-review</code> label.</li>
<li>PRs are treated similarly to journal submission with an "editor" assigning two reviewers to evaluate the changes.</li>
<li>The reviewers have 3 weeks to evaluate the PR and work with the author to fix issues and implement improvements.</li>
<li>We use <a href="https://github.com/glvis/glvis/milestones">milestones</a> to coordinate the work on different PRs toward a release.</li>
<li>Don't hesitate to <a href="#contact-information">contact us</a> if you have any questions.</li>
</ul>
<h3><a class="anchor" id="autotoc_md2"></a>
Code Overview</h3>
<h4><a class="anchor" id="autotoc_md3"></a>
Source code structure:</h4>
<p>The GLVis library uses object-oriented design principles which reflect, in code, the independent mathematical concepts of meshing, linear algebra and finite element spaces and operators.</p>
<p>The GLVis source code has the following structure:</p>
<div class="fragment"><div class="line">.</div>
<div class="line">├── lib</div>
<div class="line">│   └── gl</div>
<div class="line">│       └── shaders</div>
<div class="line">└── share</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
GitHub Workflow</h2>
<p>The GLVis GitHub organization: <a href="https://github.com/glvis">https://github.com/glvis</a>, is the main developer hub for the GLVis project.</p>
<p>If you plan to make contributions or would like to stay up-to-date with changes in the code, <em>we strongly encourage you to <a href="#glvis-organization">join the GLVis organization</a></em>.</p>
<p>This will simplify the workflow (by providing you additional permissions), and will allow us to reach you directly with project announcements.</p>
<h3><a class="anchor" id="autotoc_md5"></a>
GLVis Organization</h3>
<h4><a class="anchor" id="autotoc_md6"></a>
Getting started (GitHub)</h4>
<p>Before you can start, you need a GitHub account, here are a few suggestions:</p><ul>
<li>Create the account at: <a href="https://github.com/join">github.com/join</a>.</li>
<li>For easy identification, please add your full name and maybe a picture of you at: <a href="https://github.com/settings/profile">https://github.com/settings/profile</a>.</li>
<li>To receive notification, set a primary email at: <a href="https://github.com/settings/emails">https://github.com/settings/emails</a>.</li>
<li>For password-less pull/push over SSH, add your SSH keys at: <a href="https://github.com/settings/keys">https://github.com/settings/keys</a>.</li>
</ul>
<h4><a class="anchor" id="autotoc_md7"></a>
Joining</h4>
<ul>
<li><a href="#contact-information">Contact us</a> for an invitation to join the GLVis GitHub organization. You will receive an invitation email, which you can directly accept. Alternatively, <em>after logging into GitHub</em>, you can accept the invitation at the top of <a href="https://github.com/glvis">https://github.com/glvis</a>.</li>
<li>Consider making your membership public by going to <a href="https://github.com/orgs/glvis/people">https://github.com/orgs/glvis/people</a> and clicking on the organization visibility drop box next to your name.</li>
<li>Project discussions and announcements will be posted at <a href="https://github.com/orgs/glvis/teams/everyone">https://github.com/orgs/glvis/teams/everyone</a>.</li>
</ul>
<h4><a class="anchor" id="autotoc_md8"></a>
Structure</h4>
<ul>
<li>The GLVis source code is in the <a href="https://github.com/glvis/glvis">glvis</a> repository.</li>
<li>The website and corresponding documentation are in the <a href="https://github.com/glvis/web">web</a> repository.</li>
</ul>
<h3><a class="anchor" id="autotoc_md9"></a>
New Feature Development</h3>
<ul>
<li>A new feature should be important enough that at least one person, the author, is willing to work on it and be its champion.</li>
<li>The author creates a branch for the new feature (with suffix <code>-dev</code>), off the <code>master</code> branch, or another existing feature branch, for example:</li>
</ul>
<div class="fragment"><div class="line"># Clone assuming you have setup your ssh keys on GitHub:</div>
<div class="line">git clone git@github.com:glvis/glvis.git</div>
<div class="line"> </div>
<div class="line"># Alternatively, clone using the &quot;https&quot; protocol:</div>
<div class="line">git clone https://github.com/glvis/glvis.git</div>
<div class="line"> </div>
<div class="line"># Create a new feature branch starting from &quot;master&quot;:</div>
<div class="line">git checkout master</div>
<div class="line">git pull</div>
<div class="line">git checkout -b feature-dev</div>
<div class="line"> </div>
<div class="line"># Work on &quot;feature-dev&quot;, add local commits</div>
<div class="line"># ...</div>
<div class="line"> </div>
<div class="line"># (One time only) push the branch to github and setup your local</div>
<div class="line"># branch to track the github branch (for &quot;git pull&quot;):</div>
<div class="line">git push -u origin feature-dev</div>
</div><!-- fragment --><ul>
<li><b>We prefer that you create the new feature branch inside the GLVis organization as opposed to in a fork.</b> This allows everyone in the community to collaborate in one central place.<ul>
<li>If you prefer to work in your fork, please <a href="https://help.github.com/articles/allowing-changes-to-a-pull-request-branch-created-from-a-fork/">enable upstream edits</a>.</li>
<li>Never use the <code>next</code> branch to start a new feature branch!</li>
</ul>
</li>
<li>The typical feature branch name is <code>new-feature-dev</code>, e.g. <code>pumi-dev</code>. While not frequent in GLVis, other suffixes are possible, e.g. <code>-fix</code>, <code>-doc</code>, etc.</li>
</ul>
<h3><a class="anchor" id="autotoc_md10"></a>
Developer Guidelines</h3>
<ul>
<li><em>Keep the code lean and as simple as possible</em><ul>
<li>Well-designed simple code is frequently more general and powerful.</li>
<li>Lean code base is easier to understand by new collaborators.</li>
<li>New features should be added only if they are necessary or generally useful.</li>
<li>Introduction of language constructions not currently used in GLVis should be justified and generally avoided (to maintain portability to various systems and compilers, including early access hardware).</li>
<li>We prefer basic C++ and the C++03 standard, to keep the code readable by a large audience and to make sure it compiles anywhere.</li>
</ul>
</li>
<li><em>Keep the code general and reasonably efficient</em><ul>
<li>The main goal is fast prototyping for research and application development.</li>
<li>When in doubt, generality wins over efficiency.</li>
<li>Respect the needs of different users (current and/or future).</li>
</ul>
</li>
<li><em>Keep things separate and logically organized</em><ul>
<li>General usage features go in GLVis (implemented in as much generality as possible), non-general features go into external apps.</li>
<li>Inside GLVis, compartmentalize between linalg, fem, mesh, GLVis, etc.</li>
<li>Contributions that are project-specific or have external dependencies are allowed (if they are of broader interest), but should be <code>#ifdef</code>-ed and not change the code by default.</li>
</ul>
</li>
<li>Code specifics<ul>
<li>All significant new classes, methods and functions have Doxygen-style documentation in source comments.</li>
<li>Consistent code styling is enforced with <code>make style</code> in the top-level directory. This requires <a href="http://astyle.sourceforge.net">Artistic Style</a> (we specifically use version 2.05.1). See also the file <code>config/glvis.astylerc</code>.</li>
<li>Use <code>glvis::out</code> and <code>glvis::err</code> instead of <code>std::cout</code> and <code>std::cerr</code> in internal library code. (You can use <code>std</code> in examples and miniapps.)</li>
<li>When manually resolving conflicts during a merge, make sure to mention the conflicted files in the commit message.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md11"></a>
Pull Requests</h3>
<ul>
<li>When your branch is ready for other developers to review / comment on the code, create a pull request towards <code>glvis:master</code>.</li>
<li><p class="startli">Pull request typically have titles like:</p>
<p class="startli"><code>Description [new-feature-dev]</code></p>
<p class="startli">for example:</p>
<p class="startli"><code>Parallel Unstructured Mesh Infrastructure (PUMI) integration [pumi-dev]</code></p>
<p class="startli">Note the branch name suffix (in square brackets).</p>
</li>
<li><p class="startli">Titles may contain a prefix in square brackets to emphasize the type of PR. Common choices are: <code>[DON'T MERGE]</code>, <code>[WIP]</code> and <code>[DISCUSS]</code>, for example:</p>
<p class="startli"><code>[DISCUSS] Hybridized DG [hdg-dev]</code></p>
</li>
<li>If the PR is still a work in progress, add the <code>WIP</code> label to it and optionally the <code>[WIP]</code> prefix in the title.</li>
<li>Add a description, appropriate labels and assign yourself to the PR. The GLVis team will add reviewers as appropriate.</li>
<li>List outstanding TODO items in the description, see PR #222 for an example.</li>
<li>When your contribution is fully working and ready to be reviewed, add the <code>ready-for-review</code> label.</li>
<li>PRs are treated similarly to journal submission with an "editor" assigning two reviewers to evaluate the changes. The reviewers have 3 weeks to evaluate the PR and work with the author to implement improvements and fix issues.</li>
</ul>
<h3><a class="anchor" id="autotoc_md12"></a>
Pull Request Checklist</h3>
<p>Before a PR can be merged, it should satisfy the following:</p>
<ul>
<li>[ ] Code builds.</li>
<li>[ ] Code passes <code>make style</code>.</li>
<li>[ ] Update <code>CHANGELOG</code>:<ul>
<li>[ ] Is this a new feature users need to be aware of?</li>
<li>[ ] Does it make sense to create a new section in the <code>CHANGELOG</code> to group with other related features?</li>
</ul>
</li>
<li>[ ] Update <code>INSTALL</code>:<ul>
<li>[ ] Had a new optional library been added? If so, what range of versions of this library are required? (<em>Make sure the external library is compatible with our BSD license, e.g. it is not licensed under GPL!</em>)</li>
<li>[ ] Have the version ranges for any required or optional libraries changed?</li>
<li>[ ] Does <code>make</code> or <code>cmake</code> have a new target?</li>
<li>[ ] Did the requirements or the installation process change? *(rare)*</li>
</ul>
</li>
<li>[ ] Update <code>.gitignore</code>:<ul>
<li>[ ] Check if <code>make distclean; git status</code> shows any files that were generated from the source by the project (not an IDE) but we don't want to track in the repository.</li>
<li>[ ] Add new patterns (just for the new files above) and re-run the above test.</li>
</ul>
</li>
<li>[ ] New capability:<ul>
<li>[ ] All significant new classes, methods and functions have Doxygen-style documentation in source comments.</li>
<li>[ ] Consider adding new sample runs in existing examples to highlight the new capability.</li>
<li>[ ] Consider saving cool simulation pictures with the new capability in the Confluence gallery (LLNL only) or submitting them, via pull request, to the gallery section of the <code>glvis/web</code> repo.</li>
<li>[ ] If this is a major new feature, consider mentioning it in the short summary inside <code>README</code> *(rare)*.</li>
<li>[ ] List major new classes in <code>doc/CodeDocumentation.dox</code> *(rare)*.</li>
</ul>
</li>
<li>[ ] Update this checklist, if the new pull request affects it.</li>
</ul>
<h3><a class="anchor" id="autotoc_md13"></a>
Releases</h3>
<ul>
<li>Releases are just tags in the <code>master</code> branch, e.g. <a href="https://github.com/glvis/glvis/releases/tag/v3.4">https://github.com/glvis/glvis/releases/tag/v3.4</a>, and have a version that ends in an even "patch" number, e.g. <code>v3.4.2</code> or <code>v3.4</code> (by convention <code>v3.4</code> is the same as <code>v3.4.0</code>.) Between releases, the version ends in an odd "patch" number, e.g. <code>v3.4.1</code>.</li>
<li>We use <a href="https://github.com/glvis/glvis/milestones">milestones</a> to coordinate the work on different PRs toward a release, see for example the <a href="https://github.com/glvis/glvis/milestone/1?closed=1">v3.4 release</a>.</li>
<li>After a release is complete, the <code>next</code> branch is recreated, e.g. as follows (replace <code>3.4</code> with current release):<ul>
<li>Rename the current <code>next</code> branch to <code>next-pre-v3.4</code>.</li>
<li>Create a new <code>next</code> branch starting from the <code>v3.4</code> release.</li>
<li>Local copies of <code>next</code> can then be updated with <code>git fetch origin next &amp;&amp; git checkout -B next origin/next</code>.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md14"></a>
Release Checklist</h3>
<ul>
<li>[ ] Update the GLVis version in the following files:<ul>
<li>[ ] <code>CHANGELOG</code></li>
<li>[ ] <code>makefile</code></li>
<li>[ ] <code>CMakeLists.txt</code></li>
</ul>
</li>
<li>[ ] Check that version requirements for each of GLVis's dependencies are documented in <code>INSTALL</code> and up-to-date</li>
<li>[ ] Update the <code>CHANGELOG</code> to organize all release contributions</li>
<li>[ ] Review the whole source code once over</li>
<li>[ ] Ask GLVis-based applications to test the pre-release branch</li>
<li>[ ] Test on additional platforms and compilers</li>
<li>[ ] Tag the repository:</li>
</ul>
<div class="fragment"><div class="line">git tag -a v3.1 -m &quot;Official release v3.1&quot;</div>
<div class="line">git push origin v3.1</div>
</div><!-- fragment --><ul>
<li>[ ] Create the release tarball and push to <code>glvis/releases</code>.</li>
<li>[ ] Recreate the <code>next</code> branch as described in previous section.</li>
<li>[ ] Update and push documentation to <code>glvis/doxygen</code>.</li>
<li>[ ] Update URL shortlinks:<ul>
<li>[ ] Create a shortlink at <a href="http://bit.ly/">http://bit.ly/</a> for the release tarball, e.g. <a href="https://glvis.github.io/releases/glvis-3.1.tgz">https://glvis.github.io/releases/glvis-3.1.tgz</a>.</li>
<li>[ ] (LLNL only) Add and commit the new shortlink in the <code>links</code> and <code>links-glvis</code> files of the internal <code>glvis/downloads</code> repo.</li>
<li>[ ] Add the new shortlinks to the GLVis packages in <code>spack</code>, <code>homebrew/science</code>, <code>VisIt</code>, etc.</li>
</ul>
</li>
<li>[ ] Update website in <code>glvis/web</code> repo:<ul>
<li>Update version and shortlinks in <code>src/index.md</code> and <code>src/download.md</code>.</li>
<li>Use <a href="http://cloc.sourceforge.net/">cloc-1.62.pl</a> and <code>ls -lh</code> to estimate the SLOC and the tarball size in <code>src/download.md</code>.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md15"></a>
LLNL Workflow</h2>
<h3><a class="anchor" id="autotoc_md16"></a>
Mirroring on Bitbucket</h3>
<ul>
<li>The GitHub <code>master</code> and <code>next</code> branches are mirrored to the LLNL institutional Bitbucket repository as <code>gh-master</code> and <code>gh-next</code>.</li>
<li><code>gh-master</code> is merged into LLNL's internal <code>master</code> through pull requests; write permissions to <code>master</code> are restricted to ensure this is the only way in which it gets updated.</li>
<li>We never push directly from LLNL to GitHub.</li>
<li>Versions of the code on LLNL's internal server, from most to least stable:<ul>
<li>GLVis official release on glvis.org &ndash; Most stable, tested in many apps.</li>
<li><code>glvis:master</code> &ndash; Recent development version, guaranteed to work.</li>
<li><code>glvis:gh-master</code> &ndash; Stable development version, passed testing, you can use it to build your code between releases.</li>
<li><code>glvis:gh-next</code> &ndash; Bleeding-edge development version, may be broken, use at your own risk.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md17"></a>
Contact Information</h2>
<ul>
<li>Contact the GLVis team by posting to the <a href="https://github.com/glvis/glvis">GitHub issue tracker</a>. Please perform a search to make sure your question has not been answered already.</li>
</ul>
<h2><a class="anchor" id="autotoc_md18"></a>
&lt;a href="https://developercertificate.org/"&gt;Developer's Certificate of Origin 1.1&lt;/a&gt;</h2>
<p>By making a contribution to this project, I certify that:</p>
<p>(a) The contribution was created in whole or in part by me and I have the right to submit it under the open source license indicated in the file; or</p>
<p>(b) The contribution is based upon previous work that, to the best of my knowledge, is covered under an appropriate open source license and I have the right under that license to submit that work with modifications, whether created in whole or in part by me, under the same open source license (unless I am permitted to submit under a different license), as indicated in the file; or</p>
<p>(c) The contribution was provided directly to me by some other person who certified (a), (b) or (c) and I have not modified it.</p>
<p>(d) I understand and agree that this project and the contribution are public and that a record of the contribution (including all personal information I submit with it, including my sign-off) is maintained indefinitely and may be redistributed consistent with this project or the open source license(s) involved. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 11 2020 10:30:33 for GLVis by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
